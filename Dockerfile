# Установка образа для сборки
FROM golang:1.17-alpine AS build

# Установка рабочей директории
WORKDIR /app

# Копирование файлов проекта в контейнер
COPY ./app ./

# Сборка приложения
RUN go build -o main .

# Установка образа для запуска
FROM alpine:latest

# Установка рабочей директории
WORKDIR /app

# Копирование бинарного файла из образа сборки в текущий образ
COPY --from=build /app/main .

# Определение команды запуска приложения
CMD ["./main"]
